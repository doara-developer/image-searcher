name: image-searcher
on: [push]
jobs:
    bandit:
        name: bandit
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - uses: actions/setup-python@master
              with:
                  python-version: 3.8.6
            - run: python -m pip install --upgrade pip
            - run: pip install -r requirements.txt
            - run: poetry install
            - run: sh util.sh bandit
    flake8:
        name: flake8
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - uses: actions/setup-python@master
              with:
                  python-version: 3.8.6
            - run: python -m pip install --upgrade pip
            - run: pip install -r requirements.txt
            - run: poetry install
            - run: sh util.sh flake8
    test:
        name: test
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
            - uses: actions/setup-python@master
              with:
                  python-version: 3.8.6
            - run: python -m pip install --upgrade pip
            - run: pip install -r requirements.txt
            - run: poetry install
            - run: sh util.sh test
